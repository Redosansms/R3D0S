<html lang="en">
<head>
    <title>Made by R3D0S join website</title>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <style>
        body {
            background-color: #060707;
            color: white;
            font-family: monospace;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            cursor: default;
            user-select: none;
            overflow: hidden;
        }
        #enter-remove {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #060707;
            z-index: 100;
        }
        .begin {
            font-size: 16px;
            text-shadow: 0 0 0.40em #fff;
            margin-bottom: 20px;
        }
        .buttons {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        .btn {
            padding: 10px 20px;
            background-color: #7F73D2;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .btn:hover {
            background-color: #6a5fbb;
        }
        #dox {
            position: fixed;
            width: 100%;
            height: 100vh;
            z-index: 150;
            opacity: 0;
            pointer-events: none;
        }
        #dox-bg-vid {
            position: fixed;
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.5);
        }
        #dox-overlay {
            position: fixed;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 200;
            padding: 10px;
            box-sizing: border-box;
            overflow: auto;
        }
        #dox-overlay span {
            margin: 3px 0;
            white-space: nowrap;
            transition: font-size 0.2s ease;
            line-height: 1.2;
        }
    </style>
</head>
<body>
    <div id="enter-remove">
        <b class="begin">click to enter...</b>
        <div class="buttons">
            <a href="https://redosansms.github.io/Redhosgames/" class="btn">Site</a>
            <a href="https://github.com/Redosansms/R3D0S" class="btn">GitHub</a>
        </div>
    </div>

    <div id="dox">
        <video id="dox-bg-vid" loop playsinline preload="auto" src="bg.mp4"></video>
        <div id="dox-overlay"></div>
    </div>

    <script>
        // Scrolling title
        let msg1 = " | Made by R3D0S join website | ";
        const speed = 100;

        function scrollTitle() {
            document.title = msg1;
            msg1 = msg1.substring(1) + msg1.charAt(0);
            setTimeout(scrollTitle, speed);
        }
        scrollTitle();

        // Dox function
        function startDox() {
            console.log("dox");
            let doxElement = document.getElementById("dox");
            let doxBgVideo = document.getElementById("dox-bg-vid");
            let doxOverlay = document.getElementById("dox-overlay");
            
            document.getElementById("enter-remove").style.display = "none";
            doxBgVideo.play();
            doxElement.style.opacity = '1';
            
            // Initial font size - starting smaller for faster adjustment
            let fontSize = Math.min(window.innerHeight / 20, window.innerWidth / 40);
            doxOverlay.style.fontSize = fontSize + 'px';

            async function displayInfo(label, value) {
                let spanElement = document.createElement("span");
                spanElement.innerText = label + ": " + value;
                doxOverlay.appendChild(spanElement);
                
                // Faster overflow check with more aggressive reduction
                checkOverflow();
                
                await new Promise((resolve) => setTimeout(resolve, 150)); // Reduced delay
            }

            function checkOverflow() {
                const overlay = document.getElementById("dox-overlay");
                const spans = overlay.getElementsByTagName("span");
                
                if (overlay.scrollHeight > overlay.clientHeight) {
                    // More aggressive reduction (15% instead of 5%)
                    const currentSize = parseFloat(window.getComputedStyle(spans[0]).fontSize);
                    const newSize = Math.max(currentSize * 0.85, 8); // Don't go below 8px
                    
                    // Apply to all spans immediately
                    for (let span of spans) {
                        span.style.fontSize = newSize + 'px';
                    }
                    
                    // Check again with minimal delay
                    setTimeout(checkOverflow, 50);
                }
            }

            async function fetchAndDisplayIPData() {
                try {
                    const ipData = await (await fetch("https://wtfismyip.com/json")).json();
                    const locationData = await (await fetch("https://we-are-jammin.xyz/json/" + ipData.YourFuckingIPAddress)).json();
                    
                    // Display all info with minimal delays
                    const displayActions = [
                        () => displayInfo("IP Address", ipData.YourFuckingIPAddress),
                        () => displayInfo("Country", locationData.country),
                        () => displayInfo("Region", locationData.regionName),
                        () => displayInfo("City", locationData.city),
                        () => displayInfo("ZIP Code", locationData.zip),
                        () => displayInfo("Full Location", ipData.YourFuckingLocation),
                        () => displayInfo("Latitude", locationData.lat),
                        () => displayInfo("Longitude", locationData.lon),
                        () => displayInfo("Timezone", locationData.timezone),
                        () => displayInfo("Current Time", new Date().toLocaleString()),
                        () => displayInfo("ISP", locationData.isp),
                        () => displayInfo("Organization", locationData.org),
                        () => displayInfo("Autonomous System", locationData.as),
                        () => displayInfo("Referrer", document.referrer || "None"),
                        () => displayInfo("System Languages", navigator.languages.join(", ")),
                        () => displayInfo("Screen Width", screen.width + 'px'),
                        () => displayInfo("Screen Height", screen.height + 'px'),
                        () => {
                            if (screen.width !== window.outerWidth || screen.height !== window.outerHeight) {
                                return Promise.all([
                                    displayInfo("Window Width", window.outerWidth + 'px'),
                                    displayInfo("Window Height", window.outerHeight + 'px')
                                ]);
                            }
                            return Promise.resolve();
                        },
                        () => displayInfo("Display Pixel Depth", screen.pixelDepth),
                        () => {
                            if (typeof screen.orientation !== "undefined") {
                                return Promise.all([
                                    displayInfo("Screen Orientation", screen.orientation.type.split('-')[0]),
                                    displayInfo("Screen Rotation", screen.orientation.angle + " degrees")
                                ]);
                            }
                            return Promise.resolve();
                        },
                        () => displayInfo("CPU Threads", navigator.hardwareConcurrency),
                        () => {
                            if (typeof window.performance.memory !== "undefined") {
                                return displayInfo("Available Browser Memory", Math.round(window.performance.memory.jsHeapSizeLimit / 1024 / 1024) + 'MB');
                            }
                            return Promise.resolve();
                        },
                        async () => {
                            const canvas = document.createElement("canvas");
                            let gl, debugInfo;
                            try {
                                gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
                                debugInfo = gl.getExtension("WEBGL_debug_renderer_info");
                                if (gl && debugInfo) {
                                    await displayInfo("GPU Vendor", gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL));
                                    await displayInfo("GPU Info", gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL));
                                }
                            } catch (_) {}
                        }
                    ];

                    // Execute all display actions in sequence but faster
                    for (const action of displayActions) {
                        await action();
                    }
                } catch (error) {
                    console.error("Error fetching data:", error);
                }
            }
            fetchAndDisplayIPData();
        }

        document.body.addEventListener("click", startDox);
    </script>
</body>
</html>
